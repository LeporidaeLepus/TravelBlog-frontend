<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>themestory</title>
	<link rel="stylesheet" href="story.css">


</head>

<body>
	<div class="container-right-bg"></div>
	<nav class="nav-bar">
		<ul>
			<a href="../homepage/homepage.html">首页</a>
			<a href="../landscape/landscape.html">视觉风景</a>
			<a href="../themestory/story.html">主题故事</a>
			<a href="../night/night.html">夜景专区</a>
			<a href="../spotstrategy/spotstrategy.html">景点攻略</a>
			<a href="../travelshare/travelshare.html">旅行分享</a>
		</ul>
	</nav>
	<div class="container">
		<div class="word" id="word">
			<span>
				<span></span>
				<span></span>
				<span></span>
				<span class="word1">主</span>
			</span>
			<span>
				<span>

				</span>
				<span></span>
				<span></span>
				<span class="word2">题</span>
			</span>
			<span>
				<span></span>
				<span></span>
				<span></span>
				<span class="word3">故</span>
			</span>
			<span>
				<span></span>
				<span></span>
				<span></span>
				<span class="word4">事</span>
			</span>
			<span>
				<span></span>
				<span></span>
				<span></span>
				<span class="word4">-</span>
			</span>
			<span>
				<span></span>
				<span></span>
				<span></span>
				<span class="word4">藏</span>
			</span> <span>
				<span></span>
				<span></span>
				<span></span>
				<span class="word4">区</span>
			</span>

		</div>

	</div>
	<!-- <div class="object">藏区一瞥</div>
	</div> -->


	<div class="box">

		<div class="list">
			<ul>
				<li class="p7"><a href="#"><img src="../images/others/1.jpg" alt="" /></a></li>
				<li class="p6"><a href="#"><img src="../images/others/2.jpg" alt="" /></a></li>
				<li class="p5"><a href="#"><img src="../images/others/8.jpg" alt="" /></a></li>
				<li class="p4"><a href="#"><img src="../images/others/9.jpg" alt="" /></a></li>
				<li class="p3"><a href="#"><img src="../images/others/b.jpg" alt="" /></a></li>
				<li class="p2"><a href="#"><img src="../images/others/6.jpg" alt="" /></a></li>
				<li class="p1"><a href="#"><img src="../images/others/7.jpg" alt="" /></a></li>
			</ul>
		</div>

		<a href="javascript:;" class="prev btn">
			<</a> <a href="javascript:;" class="next btn">>
		</a>

		<div class="buttons">
			<a href="javascript:;"><span class="blue"></span></a>
			<a href="javascript:;"><span></span></a>
			<a href="javascript:;"><span></span></a>
			<a href="javascript:;"><span></span></a>
			<a href="javascript:;"><span></span></a>
			<a href="javascript:;"><span></span></a>
			<a href="javascript:;"><span></span></a>
		</div>
	</div>

	<div class="art">
		<ul class="contentbox">
			<li class="con">

				<img src="../images/others/5.jpg">
				<div class="tit">
					<h1>布达拉宫</h1>
				</div>
				<div class="txt">
					<p>
						布达拉宫（藏文：པོ་ཏ་ལ，藏语拼音：bo da la，威利：po ta
						la），坐落于于中国西藏自治区的首府拉萨市区西北玛布日山上，是世界上海拔最高，集宫殿、城堡和寺院于一体的宏伟建筑，也是西藏最庞大、最完整的古代宫堡建筑群。布达拉宫依山垒砌，群楼重叠，殿宇嵯峨，气势雄伟，是藏式古建筑的杰出代表（据说源于桑珠孜宗堡），中华民族古建筑的精华之作，是第五套人民币50元纸币背面的风景图案。
					</p>
				</div>
			</li>
			<li class="con">

				<img src="../images/others/4.jpg">
				<div class="tit">
					<h1>纳木措</h1>
				</div>
				<div class="txt">
					<p>
						纳木措，藏语意为“天湖”，是西藏三大圣湖之一，湖面海拔4718米，东西长70公里，南北宽30公里，面积1920平方公里，是西藏自治区最大的湖泊，中国第三大咸水湖，也是世界上海拔最高的大湖。湖滨平原牧草良好，是天然的牧场。每当夏初，成群的野鸭飞来栖息，繁殖后代。湖泊周围常有狗熊、野牦牛、野驴、岩羊、狐狸、獐子、旱獭等野生动物栖居，湖中盛产高原的细鳞鱼和无鳞鱼类，湖区还产虫草、贝母、雪莲等名贵药材。
					</p>
				</div>
			</li>
			<li class="con">

				<img src="../images/others/3.jpg">
				<div class="tit">
					<h1>珠穆朗玛峰</h1>
				</div>
				<div class="txt">
					<p>
						珠穆朗玛峰——世界上的最高峰，拥有着其它山峰无法企及的魅力。岁月悠悠，斗转星移，有多少登山英雄魂牵梦萦于这地球之巅，梦想踏足于所有的14座雪峰，成就超越人类极限的空前伟业。然而，超出想象的艰险，瞬息万变的气候，无法预知的困难，使他们壮志难酬，空留遗憾，甚至永久安息在山峦之中，渴望一种高度，海洋垂直地住山上行走。雪域西藏，沐浴着海水的圣洁女郎，珠穆朗玛，仍然在一种至高无上的角度，亲切地注视着远方那片浩瀚的海洋。在一个哲学的高度上，岩石让想象的空间变小，一种对故土恋恋不忘的牵挂，比珠穆朗玛的化石还要坚硬。
					</p>
				</div>
			</li>
			<li class="con">

				<img src="../images/others/下载 (2).jpg">
				<div class="tit">
					<h1>牦牛</h1>
				</div>
				<div class="txt">
					<p>
						牦牛，和我们常见的牛大同小异，只是毛黑、或白，长而浓密，长长的披在身上。牦牛身体魁梧，头大耳小，尾巴较长，肩部隆起，属于草性哺乳家禽，适应高寒地区生长。别看他们身体臃肿，行动迟缓，看似慵懒，但它们爬起山来，个个飞快、勇猛、敏捷。它们有一个共性就是善于跋涉
						那些高山之颠、险要之壑，河流沼泽，那里艰险，那里就有它们的影子， 素有“高原之舟”之称。牦牛全身是宝，藏民的衣食住行，取暖烧饭，样样离不开它。所以，藏民对牦牛的爱情有独钟。
					</p>
				</div>
			</li>

		</ul>
	</div>

	<div class="t">
		<footer>
			<p>Copyright © 2018 阿晰 梁琦酱 ayu</p>
		</footer>
	</div>
</body>
<script type="text/javascript" src="../js/jquery.min.js"></script>
<script type="text/javascript">
	var $a = $(".buttons a");
	var $s = $(".buttons span");
	var cArr = ["p7", "p6", "p5", "p4", "p3", "p2", "p1"];
	var index = 0;
	$(".next").click(
		function () {
			nextimg();
		}
	)
	$(".prev").click(
		function () {
			previmg();
		}
	)
	//上一张
	function previmg() {
		cArr.unshift(cArr[6]);
		cArr.pop();
		//i是元素的索引，从0开始
		//e为当前处理的元素
		//each循环，当前处理的元素移除所有的class，然后添加数组索引i的class
		$("li").each(function (i, e) {
			$(e).removeClass().addClass(cArr[i]);
		})
		index--;
		if (index < 0) {
			index = 6;
		}
		show();
	}

	//下一张
	function nextimg() {
		cArr.push(cArr[0]);
		cArr.shift();
		$("li").each(function (i, e) {
			$(e).removeClass().addClass(cArr[i]);
		})
		index++;
		if (index > 6) {
			index = 0;
		}
		show();
	}

	//通过底下按钮点击切换
	$a.each(function () {
		$(this).click(function () {
			var myindex = $(this).index();
			var b = myindex - index;
			if (b == 0) {
				return;
			} else if (b > 0) {
				/*
				 * splice(0,b)的意思是从索引0开始,取出数量为b的数组
				 * 因为每次点击之后数组都被改变了,所以当前显示的这个照片的索引才是0
				 * 所以取出从索引0到b的数组,就是从原本的这个照片到需要点击的照片的数组
				 * 这时候原本的数组也将这部分数组进行移除了
				 * 再把移除的数组添加的原本的数组的后面
				 */
				var newarr = cArr.splice(0, b);
				cArr = $.merge(cArr, newarr);
				$("li").each(function (i, e) {
					$(e).removeClass().addClass(cArr[i]);
				})
				index = myindex;
				show();
			} else if (b < 0) {
				/*
				 * 因为b<0,所以取数组的时候是倒序来取的,也就是说我们可以先把数组的顺序颠倒一下
				 * 而b现在是负值,所以取出索引0到-b即为需要取出的数组
				 * 也就是从原本的照片到需要点击的照片的数组
				 * 然后将原本的数组跟取出的数组进行拼接
				 * 再次倒序,使原本的倒序变为正序
				 */
				cArr.reverse();
				var oldarr = cArr.splice(0, -b)
				cArr = $.merge(cArr, oldarr);
				cArr.reverse();
				$("li").each(function (i, e) {
					$(e).removeClass().addClass(cArr[i]);
				})
				index = myindex;
				show();
			}
		})
	})

	//改变底下按钮的背景色
	function show() {
		$($s).eq(index).addClass("blue").parent().siblings().children().removeClass("blue");
	}

	//点击class为p2的元素触发上一张照片的函数
	$(document).on("click", ".p2", function () {
		previmg();
		return false; //返回一个false值，让a标签不跳转
	});

	//点击class为p4的元素触发下一张照片的函数
	$(document).on("click", ".p4", function () {
		nextimg();
		return false;
	});

	//			鼠标移入box时清除定时器
	$(".box").mouseover(function () {
		clearInterval(timer);
	})

	//			鼠标移出box时开始定时器
	$(".box").mouseleave(function () {
		timer = setInterval(nextimg, 4000);
	})

	//			进入页面自动开始定时器
	timer = setInterval(nextimg, 4000);
</script>

</html>